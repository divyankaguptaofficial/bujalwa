if (self.CavalryLogger) { CavalryLogger.start_js(["KB60A"]); }

__d('PagesPhotoAlbumStackedCover.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=175;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);}l.prototype.render=function(){var m=this.props.imageContainerSize?Math.min(this.props.imageContainerSize,k):k,n=this.props.imageSize?Math.min(this.props.imageSize,m):m,o={width:m-2+'px',height:m-2+'px',lineHeight:m+'px'},p={width:m-2+'px',height:m-2+'px'};return c('React').createElement('div',{className:"_3ets"},c('React').createElement('div',{className:"_3ett",style:o},c('React').createElement(c('Image.react'),{height:n,src:this.props.imageUri,width:n})),c('React').createElement('div',{className:"_3etu",style:p}),c('React').createElement('div',{className:"_3etw",style:p}));};f.exports=l;}),null);
__d("XPhotosReorderAlbumController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/photos\/album\/reorder\/",{order:{type:"FBIDVector",required:true},owner:{type:"FBID",required:true}});}),null);
__d('PagePhotosTabAlbumsView.react',['ix','csx','cx','fbt','AsyncRequest','AsyncResponse','DOMQuery','FBMorePager.react','HTML5FilePicker','LeftRight.react','Link.react','PagePhotosTabConfig','PagesPhotoAlbumStackedCover.react','PagesProfileTestIDs','PhotosUploaderConst','PhotosUploadWaterfallApplications','ProfileTabConst','PUWApplications','React','ReactDOM','RelayClassic','SortableGroup','UploadSession','WaterfallIDGenerator','XAlbumUploadOverlayController','XPagesProfilePhotosController','XPhotosReorderAlbumController','XUICard.react','XUIGrayText.react','XUISpinner.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=175,o='/images/photos/empty-album.png',p=45,q=1500,r='create_new_album_session_id';l=babelHelpers.inherits(s,c('React').Component);m=l&&l.prototype;function s(u){m.constructor.call(this,u);var v=this.props.relay.route.params.albums_num_first_load;if(this.$PagePhotosTabAlbumsView2())v-=1;this.state={isWaiting:false,numFirstLoad:v,selectedAlbumID:null};}s.prototype.componentWillMount=function(){this.$PagePhotosTabAlbumsView1=new (c('SortableGroup'))();this.props.relay.setVariables({count:this.state.numFirstLoad});};s.prototype.componentDidMount=function(){var u=c('ReactDOM').findDOMNode(this.refs.createAlbumButtonID);if(u!==null){var v=new (c('HTML5FilePicker'))(u,{accept:'image/*',multiple:true,qn:this.props.page.id});c('UploadSession').addFilePickerToSession(r,v);}this.$PagePhotosTabAlbumsView3(false);};s.prototype.componentWillUnmount=function(){this.$PagePhotosTabAlbumsView1.destroy();};s.prototype.componentDidUpdate=function(){this.$PagePhotosTabAlbumsView3(true);};s.prototype.render=function(){if(!this.$PagePhotosTabAlbumsView2()&&this.props.page.page_albums.edges.length===0)return null;return c('React').createElement(c('XUICard.react'),{className:"_2y_h"},this.$PagePhotosTabAlbumsView4(),c('React').createElement('div',{ref:'albumGridItems'},this.$PagePhotosTabAlbumsView5(),this.$PagePhotosTabAlbumsView6(),this.$PagePhotosTabAlbumsView7()),this.$PagePhotosTabAlbumsView8());};s.prototype.$PagePhotosTabAlbumsView3=function(u){if(this.$PagePhotosTabAlbumsView2()){if(!u)this.$PagePhotosTabAlbumsView1.setOrderChangeHandler(function(){new (c('AsyncRequest'))().setErrorHandler(function(w){c('AsyncResponse').defaultErrorHandler(w);}).setURI(c('XPhotosReorderAlbumController').getURIBuilder().setFBID('owner',this.props.page.id).setFBIDVector('order',this.$PagePhotosTabAlbumsView1.getOrder()).getURI()).send();}.bind(this));var v=c('ReactDOM').findDOMNode(this.refs.albumGridItems);if(v===null)return;c('DOMQuery').scry(v,"._3cdi").forEach(function(w){var x=w.getAttribute('data-token');if(!this.$PagePhotosTabAlbumsView1.keyExists(x))this.$PagePhotosTabAlbumsView1.addSortable(x,w);}.bind(this));}};s.prototype.$PagePhotosTabAlbumsView2=function(){var u=this.props.relay.route.params.show_create_album_grid;if(u===false)return false;var v=this.props.page.viewer_profile_permissions;return v.includes('CREATE_CONTENT');};s.prototype.$PagePhotosTabAlbumsView4=function(){if(this.props.relay.route.params.show_header===false)return null;var u=this.props.relay.route.params.albums_num_each_load_more;if(u){return c('React').createElement('div',{className:"_3-8v _3-8p"},c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'large'},k._("All Albums")));}else{var v=c('XPagesProfilePhotosController').getURIBuilder().setString('page_token',this.props.relay.route.params.page_id).setEnum('tab',c('ProfileTabConst').ALBUMS).getURI();return c('React').createElement('div',{className:"_3-8v _3-8p"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'large','data-testid':c('PagesProfileTestIDs').ALBUMS},k._("Albums")),c('React').createElement(c('Link.react'),{href:v},c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'medium'},k._("See All")))));}};s.prototype.$PagePhotosTabAlbumsView5=function(){if(!this.$PagePhotosTabAlbumsView2())return null;var u=c('XAlbumUploadOverlayController').getURIBuilder().setInt('owner_id',this.props.page.id).setString('application',c('PhotosUploadWaterfallApplications').HTML5).setString('xapplication',c('PUWApplications').WEB_HTML5).setString('session_id',r).setString('qn',c('WaterfallIDGenerator').generate()).setString('ref',c('PhotosUploaderConst').REF_PORTFOLIO_PHOTOS).getURI();return c('React').createElement('div',{className:"_3rte _2sw8"},c('React').createElement(c('PagesPhotoAlbumStackedCover.react'),{imageUri:h("139440"),imageSize:p}),c('React').createElement(c('Link.react'),{ajaxify:u,className:"_4f7b",href:'#',ref:'createAlbumButtonID',rel:'async-post'}),c('React').createElement('div',{className:"_3hpt _2pif"},c('React').createElement(c('Link.react'),{ajaxify:u,className:"_3910",href:'#',rel:'async-post'},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium','data-testid':c('PagesProfileTestIDs').CREATE_ALBUM},k._("Create Album")))));};s.prototype.$PagePhotosTabAlbumsView6=function(){var u=this.props.relay.route.params,v=u.show_all_photos_grid,w=u.on_album_click;if(!v)return null;return c('React').createElement('div',{className:"_3rte",onClick:function x(){return w(null);},role:'presentation'},c('React').createElement(c('Link.react'),{href:'#'},c('React').createElement(c('PagesPhotoAlbumStackedCover.react'),{imageUri:o})),c('React').createElement('div',{className:"_3hpt _2pif"},c('React').createElement(c('Link.react'),{href:'#'},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium'},k._("All Photos")))));};s.prototype.$PagePhotosTabAlbumsView7=function(){var u=this.props.page.page_albums,v=[],w=this.props.relay.route.params,x=w.can_upload,y=w.hide_album,z=w.on_album_click,aa=w.page_id,ba=w.selecting_album;u.edges.forEach(function(ca,da){var ea=ca.node,fa=ea.can_upload,ga=ea.album_cover_photo,ha=ea.media,ia=ea.name,ja=ea.id;if(x===true&&!fa||y===ja)return;var ka=null;if(!z)ka=c('XPagesProfilePhotosController').getURIBuilder().setString('page_token',aa).setEnum('tab',c('ProfileTabConst').ALBUM).setFBID('album_id',ja).getURI();var la=false;if(ba===true)if(!this.state.selectedAlbumID&&da===0){la=true;this.$PagePhotosTabAlbumsView9(ja,z);}else if(this.state.selectedAlbumID===ja)la=true;v.push(c('React').createElement('div',{className:"_3rte"+(this.$PagePhotosTabAlbumsView2()?' '+"_3cdi":''),'data-token':ja,key:ja,onClick:function(){this.$PagePhotosTabAlbumsView9(ja,z);}.bind(this),role:'presentation'},c('React').createElement(c('Link.react'),{href:ka},c('React').createElement(c('PagesPhotoAlbumStackedCover.react'),{imageUri:ga?ga.image.uri:o})),c('React').createElement('div',{className:la?"_5ej2":''}),c('React').createElement(c('Link.react'),{href:ka},c('React').createElement('div',{className:"_3hpt _3-8z"},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium'},ia))),c('React').createElement(c('XUIGrayText.react'),{display:'block',size:'medium'},k._({"*":{"Photo":"{count} Photo","Photos":"{count} Photos"}},[k.param('count',ha.count,[0]),k['enum'](ha.count===1?'Photo':'Photos',{Photo:'Photo',Photos:'Photos'})]))));}.bind(this));return v;};s.prototype.$PagePhotosTabAlbumsView9=function(u,v){if(!v)return;v(u);this.setState({selectedAlbumID:u});};s.prototype.$PagePhotosTabAlbumsView8=function(){if(!this.props.relay.route.params.albums_num_each_load_more||this.props.relay.variables.count>=this.props.page.page_albums.count)return null;return c('React').createElement(c('FBMorePager.react'),{onMore:function(){return this.$PagePhotosTabAlbumsView10();}.bind(this)},c('React').createElement('div',{className:"_3d2x _2piq"},c('React').createElement(c('XUISpinner.react'),{size:'large'})));};s.prototype.$PagePhotosTabAlbumsView10=function(){if(this.state.isWaiting)return;this.setState({isWaiting:true});setTimeout(function(){var u=this.props.relay.route.params.albums_num_each_load_more;this.props.relay.setVariables({count:this.props.relay.variables.count+u});this.setState({isWaiting:false});}.bind(this),q);};var t=c('RelayClassic').createContainer(s,{initialVariables:{count:c('PagePhotosTabConfig').NUM_FIRST_LOAD_PLACEHOLDER,imageSize:n},fragments:{page:function u(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'viewer_profile_permissions',kind:'Field',metadata:{isPlural:true},type:'String'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'can_upload',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{calls:[{kind:'Call',metadata:{},name:'sizing',value:{kind:'CallValue',callValue:'cover-fill-cropped'}},{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallVariable',callVariableName:'imageSize'}},{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallVariable',callVariableName:'imageSize'}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'album_cover_photo',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Photo'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'media',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MediaSetMediaConnection'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Album'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PageAlbumsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'page_albums',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'PageAlbumsConnection'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAlbumsView_react_PageRelayQL',type:'Page'};}();}}});t.moduleName='PagePhotosTabAlbumsView.react';f.exports=t;}),null);
__d('PagePhotosTabAddPhotosDialog.react',['cx','fbt','DialogExpansion','HTML5FilePicker','LayerFadeOnHide','MediaPageRoute','PagePhotosTabConfig','PagePhotosTabAlbumsView.react','PhotosUploaderConst','PhotosUploadWaterfallApplications','PUWApplications','React','ReactDOM','RelayClassic','RelayRootContainer','ScrollableArea.react','UploadSession','WaterfallIDGenerator','XAlbumUploadOverlayController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIRadioList.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUIRadioList.react').Item,m='create_new_album',n=672,o=6,p=6,q='photos_tab_add_new_photos_session_id',r='use_existing_album';j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(u){k.constructor.call(this,u);this.$PagePhotosTabAddPhotosDialog1=function(v){this.setState({selectedAlbumID:v});}.bind(this);this.$PagePhotosTabAddPhotosDialog2=function(v){if(v===m){this.setState({selectedAlbumID:null});}else this.setState({selectedAlbumID:this.props.page.page_albums.edges[0].node.id});}.bind(this);this.state={selectedAlbumID:null};}s.prototype.componentDidMount=function(){var u=c('ReactDOM').findDOMNode(this.refs.addPhotosConfirmButtonID);if(u!==null){var v=new (c('HTML5FilePicker'))(u,{accept:'image/*',multiple:true,qn:q});c('UploadSession').addFilePickerToSession(q,v);}};s.prototype.render=function(){var u=new (c('MediaPageRoute'))({albums_num_each_load_more:o,albums_num_first_load:p,can_upload:true,show_create_album_grid:false,on_album_click:this.$PagePhotosTabAddPhotosDialog1,selecting_album:this.state.selectedAlbumID!==null,show_header:false,name:this.props.page.name,page_id:this.props.page.id}),v=c('XAlbumUploadOverlayController').getURIBuilder().setInt('owner_id',this.props.page.id).setInt('album_id',this.state.selectedAlbumID).setString('application',c('PhotosUploadWaterfallApplications').HTML5).setString('xapplication',c('PUWApplications').WEB_HTML5).setString('session_id',q).setString('qn',c('WaterfallIDGenerator').generate()).setString('ref',c('PhotosUploaderConst').REF_PORTFOLIO_PHOTOS).getURI(),w=this.props.page.page_albums.edges.some(function(x){return x.node.can_upload;});return c('React').createElement(c('XUIDialog.react'),{'aria-labelledby':'Dialog used to add photos to your Page',behaviors:{DialogExpansion:c('DialogExpansion'),LayerFadeOnHide:c('LayerFadeOnHide')},onToggle:this.props.onToggle,role:'dialog',shown:true,width:n},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('XUIText.react'),{display:'block',size:'medium',weight:'normal'},i._("Add Photos"))),c('React').createElement(c('XUIDialogBody.react'),{className:"_59lb"},c('React').createElement(c('XUIRadioList.react'),{onValueChange:this.$PagePhotosTabAddPhotosDialog2,selectedValue:this.state.selectedAlbumID===null?m:r},c('React').createElement(l,{className:"_4brf",value:m},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium',weight:'normal'},i._("Create a new album"))),w&&c('React').createElement(l,{value:r},c('React').createElement(c('XUIText.react'),{display:'block',size:'medium',weight:'normal'},i._("Add to an existing album")))),c('React').createElement(c('ScrollableArea.react'),{className:"_3-8y",height:360},c('React').createElement(c('RelayRootContainer'),{Component:c('PagePhotosTabAlbumsView.react'),route:u}))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{className:"_3rix"}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',ajaxify:v,href:'#',label:i._("Continue"),rel:'async-post',ref:'addPhotosConfirmButtonID',use:'confirm'})));};var t=c('RelayClassic').createContainer(s,{initialVariables:{count:c('PagePhotosTabConfig').NUM_FIRST_LOAD_PLACEHOLDER},fragments:{page:function u(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{children:[{children:[{fieldName:'can_upload',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Album'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PageAlbumsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'page_albums',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'PageAlbumsConnection'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAddPhotosDialog_react_PageRelayQL',type:'Page'};}();}}});t.moduleName='PagePhotosTabAddPhotosDialog.react';f.exports=t;}),null);
__d('PagePhotosTabAllPhotosGrid.react',['PagePhotosTabConfig','PagePhotosTabPhotoGridItem.react','PagePhotosTabPhotosView.react','React','RelayClassic'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$PagePhotosTabAllPhotosGrid1=function(){this.props.relay.setVariables({count:this.props.relay.variables.count+c('PagePhotosTabConfig').NUM_EACH_LOAD_MORE});}.bind(this),m;}j.prototype.render=function(){var l=this.props.page,m=l.id,n=l.posted_photos;return c('React').createElement(c('PagePhotosTabPhotosView.react'),babelHelpers['extends']({hasMore:this.props.relay.variables.count<n.count,onLoadMore:this.$PagePhotosTabAllPhotosGrid1,pageID:m,photos:n},this.props));};var k=c('RelayClassic').createContainer(j,{initialVariables:{count:c('PagePhotosTabConfig').NUM_FIRST_LOAD},fragments:{page:function l(){return function(m){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayClassic').QL.__frag(m),{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'album',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Album'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'Photo',type:'Photo'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Photo'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PostedPhotosEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'posted_photos',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'PostedPhotosConnection'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAllPhotosGrid_react_PageRelayQL',type:'Page'};}(c('PagePhotosTabPhotoGridItem.react').getFragment('photo'));}}});k.moduleName='PagePhotosTabAllPhotosGrid.react';f.exports=k;}),null);
__d('PagePhotosTabEmptySection.react',['cx','fbt','React','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return c('React').createElement('div',{className:"_31iy"},c('React').createElement(c('XUIGrayText.react'),{shade:'light'},this.props.canViewerEdit?i._("No photos yet. Add photos?"):i._("No photos to show")));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('PagePhotosTabAllPhotosView.react',['ix','cx','fbt','Image.react','LeftRight.react','Link.react','PagePhotosTabAddPhotosDialog.react','PagePhotosTabAllPhotosGrid.react','PagePhotosTabEmptySection.react','PagesProfileTestIDs','React','ReactDOM','RelayClassic','XUICard.react','XUIGrayText.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(o){l.constructor.call(this,o);this.$PagePhotosTabAllPhotosView2=function(){this.setState({addPhotosDialogShown:!this.state.addPhotosDialogShown});var p=c('ReactDOM').findDOMNode(this.refs.addPhotosLink);if(p&&p instanceof HTMLElement)p.focus();}.bind(this);this.state={addPhotosDialogShown:false};}m.prototype.render=function(){var o=this.props.page.posted_photos.count;if(o===0&&!this.$PagePhotosTabAllPhotosView1())return c('React').createElement(c('PagePhotosTabEmptySection.react'),{canViewerEdit:false});var p=null;if(this.state.addPhotosDialogShown)p=c('React').createElement(c('PagePhotosTabAddPhotosDialog.react'),babelHelpers['extends']({},this.props,{onToggle:this.$PagePhotosTabAllPhotosView2}));return c('React').createElement(c('XUICard.react'),{className:"_2y_h"},this.$PagePhotosTabAllPhotosView3(),o===0?c('React').createElement(c('PagePhotosTabEmptySection.react'),{canViewerEdit:true}):c('React').createElement(c('PagePhotosTabAllPhotosGrid.react'),{page:this.props.page}),p);};m.prototype.$PagePhotosTabAllPhotosView1=function(){return this.props.page.viewer_profile_permissions.includes('CREATE_CONTENT');};m.prototype.$PagePhotosTabAllPhotosView3=function(){var o=c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',size:'large','data-testid':c('PagesProfileTestIDs').ALL_PHOTOS},j._("All Photos"));if(this.$PagePhotosTabAllPhotosView1()){var p=c('React').createElement(c('Link.react'),{href:'#',onClick:function(){return this.setState({addPhotosDialogShown:true});}.bind(this),ref:'addPhotosLink',role:'button'},c('React').createElement(c('Image.react'),{className:"_390_",src:h("138551")}),c('React').createElement(c('XUIText.react'),{className:"_3910 _2pis",shade:'medium',size:'medium','data-testid':c('PagesProfileTestIDs').ADD_PHOTOS},j._("Add Photos")));o=c('React').createElement(c('LeftRight.react'),null,o,p);}return c('React').createElement('div',{className:"_2pio _2pib _2pif"},o);};var n=c('RelayClassic').createContainer(m,{fragments:{page:function o(){return function(p,q){return {children:[].concat.apply([],[{fieldName:'viewer_profile_permissions',kind:'Field',metadata:{isPlural:true},type:'String'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'posted_photos',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'PostedPhotosConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayClassic').QL.__frag(p),c('RelayClassic').QL.__frag(q)]),id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAllPhotosView_react_PageRelayQL',type:'Page'};}(c('PagePhotosTabAddPhotosDialog.react').getFragment('page'),c('PagePhotosTabAllPhotosGrid.react').getFragment('page'));}}});n.moduleName='PagePhotosTabAllPhotosView.react';f.exports=n;}),null);