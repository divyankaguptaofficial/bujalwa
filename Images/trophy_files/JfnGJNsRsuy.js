if (self.CavalryLogger) { CavalryLogger.start_js(["GMsJ6"]); }

__d('Optimus',['Event','Parent'],(function a(b,c,d,e,f,g){'use strict';var h={};function i(k,l){var m=l.getTarget();if(!m)return;var n=h[k];for(var o in n){var p=c('Parent').byAttribute(m,o);if(p)do{var q=n[o][p.getAttribute(o)];if(q&&q.handleOptimus(k,p,l)===false)break;}while(p=c('Parent').byAttribute(p.parentNode,o));}}function j(k,l,m,n){if(!h[k]){h[k]={};c('Event').listen(document.documentElement,k,i.bind(null,k));}if(!h[k][l])h[k][l]={};if(!h[k][l][m])h[k][l][m]=n;}f.exports={addRelClick:function k(l,m){j('click','rel',l,m);},addEventListener:j};}),null);
__d('ProfileActionBarLogger',['FBJSON','MarauderLogger','Optimus'],(function a(b,c,d,e,f,g){function h(){c('Optimus').addEventListener('mouseup','data-loggable','ProfileHighQualityLogger',{handleOptimus:function i(j,k,l){c('MarauderLogger').log('profile_high_quality_action',null,c('FBJSON').parse(k.getAttribute('data-store')));return false;}});}g.init=h;}),null);
__d('ProfileEscapeHatch',['CSS','ProfileTabUtils','Run','TimelineComponentKeys','TimelineController'],(function a(b,c,d,e,f,g){var h=[],i=false;function j(k){'use strict';this.$ProfileEscapeHatch1=k;h.push(this);if(!i){c('TimelineController').register(c('TimelineComponentKeys').ESCAPE_HATCH,j);c('Run').onLeave(function(){h=[];});i=true;}}j.handleTabChange=function(k){'use strict';h.forEach(function(l){c('CSS').conditionShow(l.$ProfileEscapeHatch1,c('CSS').shown(l.$ProfileEscapeHatch1)||c('ProfileTabUtils').isTimelineTab(k));});};f.exports=j;}),null);
__d("TimelineDOMID",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",ABOVE_COMPOSER:"timeline_above_composer",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",TIMELINE_SCHEDULED_POSTS:"timeline_scheduled_posts",FIG_COMPOSER:"profile_fig_composer",FIG_TIMELINE:"profile_fig_timeline",FIG_ESCAPE_HATCH:"profile_fig_escape_hatch",FIG_INFO_REVIEW:"profile_fig_info_review",FIG_INTRO_CARD:"profile_fig_intro_card",FIG_PROTILES:"profile_fig_protiles",FIG_ADS:"profile_fig_ads",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",PREFIX_FIG_PROTILES:"profile_fig_protiles_",SUFFIX_MORE_PAGER:"_more_pager"});}),null);
__d('ProfileNavigation',['Arbiter','CSS','PageTransitions','ProfileDOMID','ProfileOverviewDOMID','ProfileTabConst','ProfileTabUtils','ScriptPath','TimelineComponentKeys','TimelineController','TimelineDOMID','TimelineURI','UIPagelet','URI','$','ge'],(function a(b,c,d,e,f,g){var h=7,i='/profile_book.php',j=null,k=null;function l(w){var x=c('URI').getMostRecentURI(),y=c('TimelineURI').getSectionKeyFromURI(x),z=c('TimelineURI').getTabKeyFromURI(x),aa=c('TimelineURI').getSectionKeyFromURI(w),ba=c('TimelineURI').getTabKeyFromURI(w),ca=w.getQueryData();if(s(x,w)||t(ba)||t(z)||!!ca.and||c('TimelineURI').isVideoPermalink(w))return false;if(ca.hc_location==='profile_browser')return false;if(Object.prototype.hasOwnProperty.call(ca,'theater')){c('Arbiter').subscribeOnce('PhotoSnowlift.CLOSE',u);return false;}if(Object.prototype.hasOwnProperty.call(ca,'force-refresh'))return false;if(c('ProfileTabUtils').isTimelineTab(z)&&!c('ProfileTabUtils').isTimelineTab(ba)&&r(aa)){j=aa;m(aa,'TimelineMedleyView',c('TimelineDOMID').TAB_CONTENT,c('ProfileOverviewDOMID').MEDLEY_ROOT,ca);return true;}if(!c('ProfileTabUtils').isTimelineTab(z)&&c('ProfileTabUtils').isTimelineTab(ba)){j=y;m(c('ProfileTabConst').TIMELINE,'TimelineWallColumn',c('ProfileOverviewDOMID').MEDLEY_ROOT,c('TimelineDOMID').TAB_CONTENT,ca);return true;}return false;}function m(w,x,y,z,aa){c('CSS').hide(c('$')(y));c('Arbiter').inform('save_facebar_query',true);var ba=c('ge')(z);if(ba){c('CSS').show(ba);q(w);}else n(x,w,aa);c('TimelineController').registerCurrentKey(w);}function n(w,x,y){o();var z=babelHelpers['extends']({},k,{tab_key:x});if(y)z=babelHelpers['extends']({},z,y);var aa=function ca(da){p();da();},ba={append:true,displayCallback:aa,finallyHandler:q.bind(null,x),usePipe:true};c('UIPagelet').loadFromEndpoint(w,c('ProfileDOMID').MAIN_COLUMN_PERSONAL,z,ba);}function o(){c('CSS').show(c('$')(c('ProfileDOMID').TAB_LOAD_INDICATOR));}function p(){c('CSS').hide(c('$')(c('ProfileDOMID').TAB_LOAD_INDICATOR));}function q(w){var x=i;if(w&&!c('ProfileTabUtils').isTimelineTab(w))x+=':'+w;c('ScriptPath').set(x);c('PageTransitions').transitionComplete();}function r(w){return j===null||w===j;}function s(w,x){var y=c('TimelineURI').getVanityFromURI(w),z=w.getQueryData().id,aa=c('TimelineURI').getVanityFromURI(x),ba=x.getQueryData().id;if(y&&aa)return y!==aa;if(z&&ba)return z!==ba;return true;}function t(w){return c('ProfileTabUtils').isActivityLogTab(w)||w===c('ProfileTabConst').MEMORIAL_CONTACT||w===c('ProfileTabConst').POSTS;}function u(){c('PageTransitions').registerHandler(l,h);}var v={init:function w(x){k=x.profileContextData;c('TimelineController').register(c('TimelineComponentKeys').ASYNC_NAV,this);u();},reset:function w(){k=null;j=null;c('PageTransitions').removeHandler(l);}};f.exports=v;}),null);
__d('TimelineNavLight',['csx','cx','invariant','Arbiter','CSS','DataStore','DOM','DOMQuery','Event','Parent','ProfileOverviewDOMID','ProfileOverviewSection','ProfileTabConst','ProfileTimelineUILogger','TimelineAppSectionConstants','TimelineComponentKeys','TimelineController','destroyOnUnload','queryThenMutateDOM','requireWeak'],(function a(b,c,d,e,f,g,h,i,j){var k="_6-7",l="_6-6",m="_529n",n="_5215",o="_9rw",p="_70k",q="._6-7",r="._6-6";function s(t){'use strict';!s.$TimelineNavLight1||j(0);this.$TimelineNavLight2=t;this.$TimelineNavLight3=c('DOMQuery').scry(t,q)[0];this.$TimelineNavLight4=c('DOMQuery').scry(t,r);this.$TimelineNavLight5();c('ProfileOverviewSection').subscribe('Medley/transitionToSection',function(v,w){this.$TimelineNavLight6(w.slice(c('ProfileOverviewDOMID').PREFIX_MEDLEY.length));}.bind(this));c('TimelineController').register(c('TimelineComponentKeys').COVER_NAV,this);var u=c('Event').listen(this.$TimelineNavLight2,'click',this.$TimelineNavLight7.bind(this));s.$TimelineNavLight1=this;c('destroyOnUnload')(function(){this.$TimelineNavLight2=null;this.$TimelineNavLight3=null;this.$TimelineNavLight4=null;u.remove();if(this.$TimelineNavLight8)this.$TimelineNavLight8.remove();s.$TimelineNavLight1=null;}.bind(this));}s.prototype.handleTabChange=function(t){'use strict';this.$TimelineNavLight6(t);};s.prototype.setMoreMenuInstance=function(t){'use strict';this.$TimelineNavLight8=c('Event').listen(t.getRoot(),'click',this.$TimelineNavLight9.bind(this));};s.setMoreMenuInstance=function(t){'use strict';!!s.$TimelineNavLight1||j(0);s.$TimelineNavLight1.setMoreMenuInstance(t);};s.prototype.$TimelineNavLight6=function(t){'use strict';this.$TimelineNavLight3&&c('CSS').removeClass(this.$TimelineNavLight3,k);this.$TimelineNavLight4.some(function(u){var v=c('TimelineAppSectionConstants').collectionTabKeyToAppTabKey[t]||t;if(c('DataStore').get(u,'tab-key')===v){c('CSS').addClass(u,k);this.$TimelineNavLight3=u;return true;}}.bind(this));if(t===c('ProfileTabConst').TIMELINE)c('requireWeak')('ScrollColumn.react',function(u){c('Arbiter').inform(u.EVENT_SHOULD_ADJUST);});};s.prototype.$TimelineNavLight5=function(){'use strict';var t=this.$TimelineNavLight4.length-1,u=this.$TimelineNavLight4[t],v=void 0,w=void 0,x=void 0,y=0;c('queryThenMutateDOM')(function(){v=c('Parent').byClass(this.$TimelineNavLight2,p).offsetWidth;w=u.offsetLeft;x=u.offsetWidth;for(var z=t;z>1;z--){var aa=this.$TimelineNavLight4[z];if(aa.offsetLeft+aa.offsetWidth>v){y++;}else break;}}.bind(this),function(){if(w+x>v)c('CSS').addClass(this.$TimelineNavLight2,n);for(var z=t;z>t-y;z--)c('DOM').remove(this.$TimelineNavLight4[z]);c('CSS').removeClass(c('Parent').byClass(this.$TimelineNavLight2,m),m);}.bind(this));};s.prototype.$TimelineNavLight10=function(t,u){'use strict';var v=c('Parent').byClass(t,u);if(v)return c('DataStore').get(v,'tab-key');return null;};s.prototype.$TimelineNavLight7=function(event){'use strict';var t=this.$TimelineNavLight10(event.target,l);if(t)c('ProfileTimelineUILogger').logCoverNavItemClick(t);};s.prototype.$TimelineNavLight9=function(event){'use strict';var t=this.$TimelineNavLight10(event.target,o);if(t)c('ProfileTimelineUILogger').logCoverNavMoreItemClick(t);};f.exports=s;}),null);
__d('VideoCallHelpler',['FBRTCCallabilityStore','FBRTCCore','TooltipData'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=k.calleeID,m=k.calleeName;j.forEachItem(function(n){if(n.getValue&&n.getValue()==='video_call'){if(c('FBRTCCallabilityStore').isCallable(k.calleeID)){n.enable();}else n.disable();c('TooltipData').set(n.getRoot(),c('FBRTCCallabilityStore').callButtonTooltip(l,m),'right');}});}var i={bindProfileVideoCallAction:function j(k,l){h(k,l);c('FBRTCCallabilityStore').addListener(function(){h(k,l);});k.subscribe('itemclick',function(m,n){if(n.item.getValue()==='video_call'&&!n.item.isDisabled())c('FBRTCCore').startOutgoingCall(l.calleeID,'timeline_profile',false);});}};f.exports=i;}),null);
__d('TimelineLogging',['TimelineComponentKeys','TimelineController','reportData'],(function a(b,c,d,e,f,g){var h=false,i=0,j=null,k=null,l={init:function m(n){if(h)return;i=n;c('TimelineController').register(c('TimelineComponentKeys').LOGGING,this);},reset:function m(){h=false;i=0;j=null;},log:function m(n,o){o.profile_id=i;c('reportData')(n,{gt:o});},logSectionChange:function m(n,o){var p={timeline_section_change:1,key:n};if(j&&n==j){p.timeline_scrubber=1;j=null;}if(k&&n==k){p.sticky_header_nav=1;k=null;}l.log('timeline',p);},logScrubberClick:function m(n){j=n;},logStickyHeaderNavClick:function m(n){k=n;}};f.exports=l;}),null);
__d('PhotoCreateButtonsVisibility',['csx','Arbiter','CSS','DOMQuery','Event','Parent','$'],(function a(b,c,d,e,f,g,h){function i(k){var l=c('Parent').bySelector(k,"._3cz");return c('DOMQuery').find(l,"._69l");}var j={addHideClickListener:function k(l){c('Event').listen(l,'click',function(){c('CSS').hide(i(l));});},addShowClickListener:function k(l){c('Event').listen(l,'click',function(){c('CSS').show(i(l));});},hideButtons:function k(l){var m=c('$')('pagelet_timeline_medley_photos');c('CSS').hide(c('DOMQuery').find(m,"._69l"));},showButtonOnTabChange:function k(l){c('Arbiter').subscribe('Medley/tab-change',function(m){c('CSS').show(l);});}};f.exports=j;}),null);